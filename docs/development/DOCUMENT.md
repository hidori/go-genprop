# 文書作成規約

## 作業時の必須チェック

- **文書変更前後に必ず行う**
  - `make format`を実行する
  - 文書間の整合性を確認する

## 基本方針

- 日本語で記述する
- 正確性・確実性・統一感を重視する
- コンテキストウィンドウの制限を考慮し、要点を明確にする
- 強調文字や絵文字などの過剰な装飾を行わない

## 禁止事項

- 個人情報（絶対パス等）を含める
- 推測や憶測を事実として記載する
- 明確なメリットのない提案を記載する

## 文書構造

### 統一セクション構造

全ての規約文書は以下の順序でセクションを配置する：

1. **作業時の必須チェック** - 実行必須の作業手順
2. **基本方針** - 基礎的なルールと設定
3. **禁止事項** - トラブル回避のための制限（該当文書のみ）
4. **詳細規約** - 各文書固有の具体的なルール
5. **プロジェクト固有事項** - 特殊ルール（該当文書のみ）

### セクション名統一規則

- 同じ内容を扱うセクションは文書間で同じ名前を使用する
- 「基本設定」ではなく「基本方針」を使用する
- 「〜規約」「〜対処法」「〜管理」等の語尾を統一する

### 項目配置原則

- 重要度の高い項目ほど文書の上位に配置する
- コンテキストウィンドウ制限で忘れやすい重要項目は該当する全文書に記載する
- セクション間での項目移動により論理的構造を優先する

## 重複記載

### 必要な重複

以下の項目は忘却防止のため複数文書への記載を許可する：

- **`make format`実行ルール**: 各作業文書で必須チェックとして記載
- **エラー処理方針**: CODING.mdとTESTING.mdの両方に記載
- **コメント記述言語**: CODING.mdとTESTING.mdの両方に記載
- **一時ファイル使用ルール**: 関連する作業文書に記載
- **命名規則**: 基本ルールと具体例を適切な文書に分散配置

### 重複回避方針

- 表現の統一（「削除する」「空行が必要」等）
- 例外ルールは該当する全文書に同じ内容で記載
- セクション名と内容の一対一対応を維持

## 用語統一

### 動詞語尾

- 「〜する」で統一（「〜される」「〜しなければならない」は使用しない）

### 表現統一

- 「原則、」で統一（「原則として」は使用しない）
- 「必ず行う」で統一
- 「空行が必要」で統一
- 「削除する」で統一

### 技術用語

- `make format`、`make test`、`make clean`
- `tmp/`ディレクトリ
- `errors.WithStack()`、`errors.Wrap()`
- testdata/配下

## 文書間連携

### 参照関係

- copilot-instructions.md: 作業内容に応じた詳細文書への参照を記載
- 各詳細文書: 具体的な作業手順と規約を記載
- 参照優先度を明確化

### 更新時の注意点

- 一つの文書を更新した場合、関連文書での整合性確認を必須とする
- 新規項目追加時は、他文書への影響を検討する
- 矛盾発生時は修正方向をユーザーに確認する

## プロジェクト固有事項

各文書には、そのドメインに特有の内容を記載する。

### 内容例
